{{- define "main" }}
  <div class="about--hero">
    <div class="about--hero-body">
      <div class="about--hero-tagline">Since 2003</div>
      <h1 class="about--hero-title">
        Let's build<br/>great things together
      </h1>
    </div>
    <div class="about--hero-footer">
      <a href="#talk" class="btn btn-big btn-with-arrow about--hero-cta">
        Get in touch
        {{(resources.Get "img/arrow-button.svg").Content | strings.TrimSpace | safeHTML}}
      </a>
      <div class="about--hero-loved">
        <div class="about--hero-loved-avatars">
          <img
            src='{{ (.Resources.Get "img/avatars/alex-ford.png").RelPermalink }}'
            alt="Alex Ford"
          />
          <img
            src='{{ (.Resources.Get "img/avatars/zach-levine.jpeg").RelPermalink }}'
            alt="Zach Levine"
          />
          <img
            src='{{ (.Resources.Get "img/avatars/justin-demaris.png").RelPermalink }}'
            alt="Justin Demaris"
          />
        </div>
        <div class="about--hero-loved-text">
          Loved by 50+<br/>Founders
        </div>
      </div>
      <div class="about--hero-clutch">
        <img
          src='{{ ($.Resources.Get "img/logo-clutch.svg").RelPermalink }}'
          alt="Clutch"
        />
        <div class="about--hero-clutch-text">
          <img
            src='{{ ($.Resources.Get "img/clutch-stars.svg").RelPermalink }}'
            alt="Clutch Review Rating"
          />
          5.0 Review Rating
        </div>
      </div>
    </div>
    <video
      class="about--hero-video"
      poster='{{ (.Resources.Get "img/hero-video-cover.png").RelPermalink }}'
      width="100%"
      autoPlay
      loop
      muted
      preload="auto"
      playsInline
      id="hero-video"
    >
      <source type="video/webm" src='{{(.Resources.Get "img/hero-video.webm").RelPermalink}}' />
      <source type="video/mp4" src='{{(.Resources.Get "img/hero-video.mp4").RelPermalink}}' />
      <img
        class="about--hero-video"
        src='{{ (.Resources.Get "img/hero-video-cover.png").RelPermalink }}'
        alt="Experts in software development"
      />
    </video>
  </div>

  <div class="container">
    {{ partial "heading.html" (dict
      "Level" 2
      "Text" "Hire us if you need to..."
      "Class" "about--title"
    ) }}
    <div class="about--hire-us">
      <div class="about--hire-us-list">
        {{- (.GetPage "hire-us-list").Content }}
      </div>
      <div class="about--hire-us-book">
        {{- (.GetPage "hire-us-book").Content }}
        {{ partial "author-card.html" (dict
          "Page" .
          "Image" "img/avatars/denis-stebunov.png"
          "Name" "Denis Stebunov"
          "Position" "CTO at ivelum"
        ) }}
        <a href="#talk" class="btn btn-small btn-outline-violet">
          Book a free consultation
        </a>
      </div>
    </div>
  </div>

  <div class="container">
    {{ partial "heading.html" (dict
      "Level" 2
      "Text" "What we do"
      "Class" "about--title"
      ) }}
    <div class="about--what-we-do-wrapper">
    {{- range sort (where .Pages "Params.category" "what-we-do") "File.Path" }}
      <div class="about--what-we-do-item">
        <img
          class="about--what-we-do-item-image"
          src="{{ ($.Resources.Get .Params.image).RelPermalink }}"
          alt="{{ .Title }}"
          width="260"
          height="260"
        />
        <h3 class="about--what-we-do-item-title">{{ .Title }}</h3>
        <div class="about--what-we-do-item-text">
          {{ .Content }}
        </div>
      </div>
    {{- end }}
    </div>
  </div>

  <div class="about--action">
    <a
      class="btn btn-big btn-with-arrow about--action-button"
      href="#talk"
      x-data="LetsTalkButton"
      x-on:click.prevent="talkToUs"
    >
      Let's talk{{(resources.Get "img/arrow-button.svg").Content | strings.TrimSpace | safeHTML}}
    </a>
    <script type="module">
      import Alpine from "alpinejs";
      import talkToUs from '/js/talk-to-us.js';
      document.addEventListener('alpine:init', () => {
        Alpine.data('LetsTalkButton', () => ({ talkToUs }));
      });
    </script>
    <img
      class="about--action-background"
      src='{{ (.Resources.Get "img/got-a-project-in-mind.svg").RelPermalink }}'
      alt="Got a project in mind?"
      width="738"
      height="208"
    />
  </div>

  <div class="container">
    {{ partial "heading.html" (dict
      "Level" 2
      "Text" "What our clients say"
      "Class" "about--title"
      ) }}
    <div class="about--testimonials-wrapper">
    {{- range sort (where .Pages "Params.category" "testimonials") "File.Path" }}
      <div class="about--testimonials-item">
        {{ partial "author-card.html" (dict
          "Page" .
          "Image" .Params.avatar
          "Name" .Title
          "Position" .Params.position
          "Linkedin" .Params.linkedin
        ) }}
        <div class="about--testimonials-body">
          {{ .Content }}
        </div>
      </div>
    {{- end }}
      <div class="about--testimonials-item about--testimonials-item--clutch">
        <a
          class="about--clutch-winner"
          href="https://clutch.co/profile/ivelum#portfolio-and-awards"
          target="_blank"
        >
          <img
            src='{{ (.Resources.Get "img/clutch-spring-champion-2024.svg").RelPermalink }}'
            alt="Clutch Champion Spring 2024"
          />
        </a>
        <div class="about--clutch-reviews">
          <script type="text/javascript" src="https://widget.clutch.co/static/js/widget.js"></script>
          <div
            class="clutch-widget about--clutch-widget"
            data-url="https://widget.clutch.co"
            data-widget-type="14"
            data-height="50"
            data-nofollow="true"
            data-expandifr="true"
            data-scale="100"
            data-clutchcompany-id="2181885">
          </div>
          <div class="about--clutch-link">
            <a href="https://clutch.co/profile/ivelum#reviews" target="_blank">
              Read more verified reviews on Clutch
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    {{ partial "heading.html" (dict
      "Level" 2
      "Text" "Team"
      "Class" "about--title"
      ) }}
  </div>
  <div class="about--team-slider-wrapper">
    <div class="about--team-slider swiper">
      <div class="swiper-wrapper">
      {{- range .Resources.Match "img/team/*.jpg" }}
        <div class="swiper-slide">
          <img
            src="{{ .RelPermalink }}"
            width="{{ .Width }}"
            height="{{ .Height }}"
            alt="Team"
          />
        </div>
      {{- end }}
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>

  <div class="container">
    <div class="about--team-about">
      <div class="about--team-about-text">
        {{- (.GetPage "team").Content }}
      </div>
      <div class="about--team-about-social">
        <a
          href="https://www.instagram.com/ivelum_development/"
          class="about--team-about-social-link"
          target="_blank"
          >{{
            ($.Resources.Get "img/ico-instagram.svg").Content
            | strings.TrimSpace
            | safeHTML
          }}ivelum_development</a
        >
      </div>
    </div>
  </div>

  <script type="module">
    import Swiper from 'swiper';
    import Pagination from 'swiper/modules/pagination';
    import 'swiper/css';
    import 'swiper/css/pagination';

    const swiper = new Swiper('.swiper', {
      grabCursor: true,
      modules: [Pagination],
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      spaceBetween: 20,
      initialSlide: 1,
      slidesPerView: 1.3,
      slidesOffsetBefore: 20,
      slidesOffsetAfter: 20,
    });
  </script>
{{- end }}
