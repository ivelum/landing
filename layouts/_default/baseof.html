<!DOCTYPE html>
<html lang="en">
<head>
  <!-- TODO: REMOVE BEFORE LAUNCH -->
  <meta name = "robots" content = "noindex">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <title>{{ .Title }}</title>
  <meta name="description" content="{{ .Description }}">
  <link rel="canonical" href="{{ .Permalink }}">
  <meta property="og:title" content="{{ .Title }}">
  <meta property="og:description" content="{{ .Description }}">
  <meta property="og:url" content="{{ .Permalink }}">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="{{ .Title }}">
  <meta name="twitter:description" content="{{ .Description }}">
  <meta name="twitter:url" content="{{ .Permalink }}">
  {{- /* TODO: Favicons */}}
  <script type="importmap">
    {
      "imports": {
        "@sentry/browser": "/vendor/@sentry-browser@8.42.0.js",
        "alpinejs": "/vendor/alpinejs@3.14.6.js",
        "autosize": "/vendor/autosize@6.0.1.js",
        "scroll-lock": "/vendor/scroll-lock@2.1.5.js",
        "swiper": "/vendor/swiper@11.1.15.js",
        "swiper/css": "/vendor/swiper@11.1.15-css.js",
        "swiper/css/pagination": "/vendor/swiper@11.1.15-css-pagination.js",
        "swiper/modules/pagination": "/vendor/swiper@11.1.15-modules-pagination.js",
        "/npm/": "https://cdn.jsdelivr.net/npm/"
        {{- /* @sentry/browser loads some more modules from jsdelivr */}}
      }
    }
  </script>
{{- with resources.Get "sass/main.scss" }}
  {{- $opts := dict "transpiler" "libsass" "targetPath" "css/style.css" }}
  {{- with . | toCSS $opts }}
    {{- if hugo.IsDevelopment }}
  <link rel="stylesheet" href="{{ .RelPermalink }}">
    {{- else }}
      {{- with . | minify | fingerprint }}
  <link
    rel="stylesheet"
    href="{{ .RelPermalink }}"
    integrity="{{ .Data.Integrity }}"
    crossorigin="anonymous"
  >
      {{- end }}
    {{- end }}
  {{- end }}
{{- end }}
</head>
<body>
  {{ partial "header.html" . }}
{{- block "main" . }}
{{- end }}
  {{ partial "footer.html" . }}
  <script type="module">
    import * as Sentry from '@sentry/browser';
    import Alpine from 'alpinejs';

    Sentry.init({
      dsn: 'https://5948ecb18a55aeee499e81c728ad9285@o202054.ingest.sentry.io'
        + '/4506218350641152',
      environment: '{{ hugo.Environment }}',
    });

    Alpine.start();
  </script>
</body>
</html>
